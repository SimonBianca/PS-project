<div class="service-container">
    <div class="service-box pt">
        <table class="table table-bordered table-striped">
            <div class="header-table">
                <span class="title col1">
                    Name
                </span>
                <span class="title col2">
                    Price
                </span>
                <span class="title">
                    Duration
                </span>
            </div>
            <div *ngFor="let service of services; let i=index" class="d-flex flex-column border-bottom">
                <form [formGroup]="getFormGroup(service.id)" class="p-2 col-8">
                    <div class="d-flex flex-row row p-2 ">
                        <mat-form-field class="p-2 col">
                            <mat-label>Name</mat-label>
                            <input (change)="updateName(service, getFormGroup(service.id))" [formControl]="getNameFormControl(service.id)" matInput type="text">
                            <mat-error *ngIf="getNameFormControl(service.id).hasError('required')">
                            Name is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
            
                        <mat-form-field class="p-2 col">
                            <mat-label>Price</mat-label>
                            <input (change)="updatePrice(service, getFormGroup(service.id))" [formControl]="getPriceFormControl(service.id)" matInput type="text">
                            <mat-error *ngIf="getPriceFormControl(service.id).hasError('pattern') && !getPriceFormControl(service.id).hasError('required')">
                                Price must be a number between 10 and 999.
                            <mat-error *ngIf="getPriceFormControl(service.id).hasError('required')">
                                Price is <strong>required</strong>
                            </mat-error>
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field class="p-2 col">
                            <mat-label>Duration</mat-label>
                            <input (change)="updateDuration(service, getFormGroup(service.id))" [formControl]="getDurationFormControl(service.id)" matInput type="text">
                            <mat-error *ngIf="getDurationFormControl(service.id).hasError('pattern') && !getDurationFormControl(service.id).hasError('required')">
                                Duration must be a number between 20 and 999.
                            </mat-error>
                            <mat-error *ngIf="getDurationFormControl(service.id).hasError('required')">
                                Duration is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                        <span (click)="deleteService(service,i)">
                            <span class="material-icons pl-3 md-20">cancel</span>
                        </span>
                    </div>
                </form>
            </div>
            <div class="button-container" >
                <button type="button" class="button-add btn-lg btn-block" (click)="goToAddService()">Add service</button>
            </div>
        </table>
    </div>
</div>
